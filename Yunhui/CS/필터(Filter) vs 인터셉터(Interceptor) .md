## Q. [Spring] 필터(Filter) vs 인터셉터(Interceptor) 차이 및 용도
|                분류                 |                                               필터(Filter)                                                |                                   인터셉터(Interceptor)                                    |
|:---------------------------------:|:-------------------------------------------------------------------------------------------------------:|:--------------------------------------------------------------------------------------:|
|             관리되는 컨테이너             |                                                서블릿 컨테이너                                                 |                                        스프링 컨테이너                                        |
|             스프링의 예외처리             |                                                    X                                                    |                                           O                                            |
| Request/Response <br> 객체 조작 가능 여부 |                                                    O                                                    |                                           X                                            |
 |                용도                 | - 공통된 보안 및 인증/인가 관련 작업 <br> - 모든 요청에 대한 로깅 또는 감사 <br> - 이미지/데이터 압축 및 문자열 인코딩 <br> - Spring과 분리되어야 하는 기능 | - 세부적인 보안 및 인증/인가 공통 작업 <br> - API 호출에 대한 로깅 또는 감사 <br> - Controller로 넘겨주는 정보(데이터)의 가공 |

### 필터(Filter)
- J2EE 표준 스펙 기능으로 디스패처 서블릿(Dispatcher Servlet)에 요청이 전달되기 전/후에 url 패턴에 맞는 모든 요청에 대해 부가작업을 처리할 수 있는 기능을 제공
  - 디스패처 서블릿은 스프링 가장 앞단에 존재하는 프론트 컨트롤러이다.
  - 그러므로, 필터는 스프링 범위 밖에서 처리가 되는 것
  - 스프링 컨테이너가 아닌 톰캣과 같은 웹 컨테이너(서블릿 컨테이너)에 의해 관리가 된다.
  
- 스프링과 무관하게 전역적으로 처리해야 하는 작업들을 처리(ex. 보안 공통 작업)
- 인터셉터보다 앞단에서 동작하므로 보안검사(XSS 방어 등)을 하여 올바른 요청이 아닐 경우 차단할 수 있다.
- 필터를 인증과 인가에 사용하는 도구로 SpringSecurity가 있다.
  - SpringSecurity는 Spring MVC에 종속적이지 않다.(필터 기반으로 인증/인가를 처리 하기 때문)

### 인터셉터(Interceptor)
- Spring이 제공하는 기술로써, 디스패처 서블릿(Dispatcher Servlet)이 컨트롤러를 호출하기 전과 후에 요청과 응답을 참조하거나 가공할 수 있는 기능을 제공
  - 스프링 컨텍스트에서 동작한다.

- 클라이언트의 요청과 관련되어 전역적으로 처리해야하는 작업들을 처리
- 특정 그룹의 사용자는 어떤 기능을 사용하지 못하는 경우에 인터셉터가 처리하기에 적합
- 사용자의 ID를 기반으로 조회한 사용자 정보를 HttpServletRequest에 넣어 줄 수 있다.
- 클라이언트의 IP나 요청 정보들을 기록하기에 용이

### Reference
- https://mangkyu.tistory.com/173


